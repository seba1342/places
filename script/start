#!/usr/bin/env bash
set -e

# Check if overmind is installed
if ! command -v overmind &> /dev/null; then
    echo "⚠️  Overmind not found. Installing..."
    echo "📦 On Arch Linux, run: sudo pacman -S overmind"
    echo "📦 Or with Go: go install github.com/DarthSim/overmind/v2@latest"
    echo ""
    echo "Falling back to concurrently..."
    yarn dev
    exit 0
fi

# Ensure database is running
docker-compose up -d

echo "🚀 Starting Places app with Overmind..."
echo "Press Ctrl+C to stop all processes"
echo ""

overmind start
